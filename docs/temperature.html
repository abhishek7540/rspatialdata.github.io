<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Temperature</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">rspatialdata</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="admin_boundaries.html">Administrative boundaries</a>
    </li>
    <li>
      <a href="osm.html">Open Street Map data</a>
    </li>
    <li>
      <a href="population.html">Population</a>
    </li>
    <li>
      <a href="elevation.html">Elevation</a>
    </li>
    <li>
      <a href="temperature.html">Temperature</a>
    </li>
    <li>
      <a href="malaria.html">Malaria</a>
    </li>
  </ul>
</li>
<li>
  <a href="contributors.html">Contributors</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Temperature</h1>

</div>


<div id="the-worldclim-database" class="section level2">
<h2>The <code>WorldClim</code> database</h2>
<p><a href="https://www.worldclim.org/">Worldclim</a> is a database of global interpolated climate data for global land areas, and provides aggregated historical climate data for the years 1970-2000.</p>
<p>WorldClim provides <a href="https://www.worldclim.org/data/worldclim21.html">monthly climate data</a> for minimum, maximum and average temperatures, as well as precipitation, solar radiation, wind speed and water vapor pressure, at four spatial resolutions between 30 seconds (~1 km<sup>2</sup>) and 10 minutes (~340km<sup>2</sup>). A list of <a href="https://www.worldclim.org/data/bioclim.html">19 bioclimatic variables</a> derived as an average of the monthly values for the years 1970-2000 are also provided as more biologically meaningful variables.</p>
<p>The <code>raster</code> R package provides access to the WorldClim database, and allows us to download data sets on the many different climatic conditions provided by WorldClim.</p>
</div>
<div id="installing-raster" class="section level2">
<h2>Installing <code>raster</code></h2>
<p>The <code>raster</code> package can be directly installed from CRAN as follows</p>
<pre class="r"><code>install.packages(&quot;raster&quot;)</code></pre>
</div>
<div id="downloading-maximum-temperature-data" class="section level2">
<h2>Downloading maximum temperature data</h2>
<p>We can then use <code>getData()</code> function of the <code>raster</code> package to download different climatic conditions from the Worldclim database.</p>
<p>The following example downloads the monthly maximum temperatures at a spatial resolution of 10 minutes (~340km<sup>2</sup>).</p>
<pre class="r"><code>library(raster)
tmax_data &lt;- getData(name = &quot;worldclim&quot;, var = &quot;tmax&quot;, res = 10)</code></pre>
</div>
<div id="understanding-the-downloaded-data" class="section level2">
<h2>Understanding the downloaded data</h2>
<p>The downloaded monthly maximum temperature data, will be a RasterStack object - which is a collection of RasterLayer objects with the same spatial extent and resolution. This makes sense, because the monthly maximum temperature data should contain 12 RasterLayers for 12 months.</p>
<pre class="r"><code>tmax_data</code></pre>
<pre><code>## class      : RasterStack 
## dimensions : 900, 2160, 1944000, 12  (nrow, ncol, ncell, nlayers)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -60, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## names      : tmax1, tmax2, tmax3, tmax4, tmax5, tmax6, tmax7, tmax8, tmax9, tmax10, tmax11, tmax12 
## min values :  -478,  -421,  -422,  -335,  -190,   -94,   -59,   -76,  -153,   -265,   -373,   -452 
## max values :   418,   414,   420,   429,   441,   467,   489,   474,   441,    401,    401,    413</code></pre>
<p>Note how each RasterLayer corresponding to the 12 months of the year are named from tmax1 - tmax12 respectively.</p>
<p>The minimum and maximum values for each month however don’t seem practical. This is because the Worldclim temperature data set is stated to have a gain of 0.1, which means that it must be multiplied by 0.1 to convert back to degrees Celsius.</p>
<pre class="r"><code>gain(tmax_data)=0.1</code></pre>
<p>Thereafter, to extract the maximum temperature of a single month we can use the following approach. This example prints out the RasterLayer object corresponding to the maximum temperature in May - the fifth month of year.</p>
<pre class="r"><code>tmax_data$tmax5</code></pre>
<pre><code>## class      : RasterLayer 
## dimensions : 900, 2160, 1944000  (nrow, ncol, ncell)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -60, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : C:/Users/acer/Desktop/rspatialdata.github.io/wc10/tmax5.bil 
## names      : tmax5 
## values     : -19, 44.1  (min, max)</code></pre>
</div>
<div id="visualising-the-data-with-ggplot2" class="section level2">
<h2>Visualising the data with <code>ggplot2</code></h2>
<p>The <code>ggplot2</code> package provides the <code>geom_raster()</code> function, which can be used to easily visualise the downloaded temperature.</p>
<p>The following example visualises the maximum temperature in May. Before visualising the data, we first convert the RasterLayer object to a dataframe, as follows.</p>
<pre class="r"><code># install.packages(c(&quot;ggplot2&quot;))
library(ggplot2)

# Converting the raster object into a dataframe
tmax_data_may_df &lt;- as.data.frame(tmax_data$tmax5, xy = TRUE, na.rm = TRUE)
rownames(tmax_data_may_df) &lt;- c()

ggplot(data = tmax_data_may_df,
       aes(x=x,y=y)) +
  geom_raster(aes(fill = tmax5)) +
  labs(title = &quot;Maximum temperature in May&quot;,
       subtitle = &quot;For the years 1970-2000&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  scale_fill_gradientn(name = &quot;Temperature (°C)&quot;,
                       colours=c(&quot;#0094D1&quot;,&quot;#68C1E6&quot;, &quot;#FEED99&quot;,&quot;#AF3301&quot;),
                       breaks = c(-20, 0, 20, 40))</code></pre>
<p><img src="temperature_files/figure-html/visualise-may-maxtemp-1.png" width="672" /></p>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<div id="visualising-monthly-maximum-temperatures" class="section level3">
<h3>Visualising monthly maximum temperatures</h3>
<p>The following example visualises the maximum monthly temperatures for each month.</p>
<pre class="r"><code># install.packages(c(&quot;raster&quot;, &quot;ggplot2&quot;, &quot;tidyverse&quot;))
library(raster)
library(ggplot2)
library(tidyverse)

# Downloading monthly maximum temperature data
tmax_data &lt;- getData(name = &quot;worldclim&quot;, var = &quot;tmax&quot;, res = 10)

# Converting temperature values to Celcius
gain(tmax_data)=0.1

# Converting the raster object into a dataframe
tmax_data_df &lt;- as.data.frame(tmax_data, xy = TRUE, na.rm = TRUE)
rownames(tmax_data_df) &lt;- c()

# Renaming the month columns, Converting the dataframe into long format and converting month column into a factor
tmax_data_df_long &lt;- tmax_data_df %&gt;%
  rename(&quot;January&quot; = &quot;tmax1&quot;, &quot;February&quot; = &quot;tmax2&quot;, &quot;March&quot; = &quot;tmax3&quot;, &quot;April&quot; = &quot;tmax4&quot;,
         &quot;May&quot; = &quot;tmax5&quot;, &quot;June&quot; = &quot;tmax6&quot;, &quot;July&quot; = &quot;tmax7&quot;, &quot;August&quot; = &quot;tmax8&quot;,
         &quot;September&quot; = &quot;tmax9&quot;, &quot;October&quot; = &quot;tmax10&quot;, &quot;November&quot; = &quot;tmax11&quot;, &quot;December&quot; = &quot;tmax12&quot;) %&gt;%
  pivot_longer(c(-x,-y), names_to = &quot;month&quot;, values_to = &quot;temp&quot;)

tmax_data_df_long$month = factor(tmax_data_df_long$month, levels = month.name)

tmax_data_df_long %&gt;%
  ggplot(aes(x=x,y=y)) +
  geom_raster(aes(fill = temp)) +
  facet_wrap(~month) +
  labs(title = &quot;Monthly maximum temperatures&quot;,
       subtitle = &quot;For the years 1970-2000&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  scale_fill_gradientn(name = &quot;Temperature (°C)&quot;,
                       colours=c(&quot;#006D9B&quot;,&quot;#0094D1&quot;,&quot;#68C1E6&quot;, &quot;#FEED99&quot;,&quot;#AF3301&quot;),
                       breaks = c(-40, -20, 0, 20, 40))</code></pre>
<p><img src="temperature_files/figure-html/visualise-monthly-maxtemp-example-1.png" width="672" /></p>
</div>
<div id="visualising-mean-monthly-temperature" class="section level3">
<h3>Visualising mean monthly temperature</h3>
<p>The WorldClim database provides the monthly maximum temperatures across the world, but it might also be important to visualise an annual average of these values. This can be done by averaging the monthly maximum temperature values.</p>
<p>The following is a complete example of downloading monthly maximum temperature values, calculating their mean and visualising it.</p>
<pre class="r"><code># install.packages(c(&quot;raster&quot;,&quot;ggplot2&quot;, &quot;magrittr&quot;))
library(raster)
library(ggplot2)
library(magrittr)

# Downloading monthly maximum temperature data
tmax_data &lt;- getData(name = &quot;worldclim&quot;, var = &quot;tmax&quot;, res = 10)

# Converting temperature values to Celcius
gain(tmax_data)=0.1

# Calculating mean of the monthly maximum temperatures
tmax_mean &lt;- mean(tmax_data)

# Converting the raster object into a dataframe
tmax_mean_df &lt;- as.data.frame(tmax_mean, xy = TRUE, na.rm = TRUE)

tmax_mean_df %&gt;%
  ggplot(aes(x=x,y=y)) +
  geom_raster(aes(fill = layer)) +
  labs(title = &quot;Mean monthly maximum temperatures&quot;,
       subtitle = &quot;For the years 1970-2000&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  scale_fill_gradientn(name = &quot;Temperature (°C)&quot;,
                       colours=c(&quot;#0094D1&quot;,&quot;#68C1E6&quot;, &quot;#FEED99&quot;,&quot;#AF3301&quot;),
                       breaks = c(-20, 0, 20, 40))</code></pre>
<p><img src="temperature_files/figure-html/visualise-mean-maxtemp-example-1.png" width="672" /></p>
</div>
<div id="visualising-mean-monthly-temperature-of-nigeria" class="section level3">
<h3>Visualising mean monthly temperature of Nigeria</h3>
<p>This example uses the same approach as the previous example but only extracts and visualises the mean monthly temperature in Nigeria.</p>
<pre class="r"><code># install.packages(c(&quot;raster&quot;,&quot;ggplot2&quot;, &quot;magrittr&quot;, &quot;sf&quot;, &quot;rgeoboundaries&quot;))
library(raster)
library(ggplot2)
library(magrittr)
library(sf)
library(rgeoboundaries)


# Downloading monthly maximum temperature data
tmax_data &lt;- getData(name = &quot;worldclim&quot;, var = &quot;tmax&quot;, res = 10)

# Converting temperature values to Celcius
gain(tmax_data)=0.1

# Calculating mean of the monthly maximum temperatures
tmax_mean &lt;- mean(tmax_data)

# Downloading the boundary of Nigeria
nigeria_sf &lt;- geoboundaries(&quot;Nigeria&quot;)

# Extracting temperature data of Nigeria
tmax_mean_ngeria &lt;- raster::mask(tmax_mean, as_Spatial(nigeria_sf))

# Converting the raster object into a dataframe
tmax_mean_nigeria_df &lt;- as.data.frame(tmax_mean_ngeria, xy = TRUE, na.rm = TRUE)

tmax_mean_nigeria_df %&gt;%
  ggplot(aes(x=x,y=y)) +
  geom_raster(aes(fill = layer)) +
  geom_sf(data = nigeria_sf, inherit.aes = FALSE, fill=NA) +
  labs(title = &quot;Mean monthly maximum temperatures in Nigeria&quot;,
       subtitle = &quot;For the years 1970-2000&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  scale_fill_gradient(name = &quot;Temperature (°C)&quot;,
                      low =  &quot;#FEED99&quot;,
                      high = &quot;#AF3301&quot;)</code></pre>
<p><img src="temperature_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="visualising-bioclimatic-variables" class="section level3">
<h3>Visualising bioclimatic variables</h3>
<p>The list of 19 bioclimatic variables provided by the Worldclim database are derived from the monthly values, in order to generate more biologically meaningful variables.</p>
<p>The complete list of variables and their codes can be found <a href="https://www.worldclim.org/data/bioclim.html">here</a></p>
<p>The process of downloading and visualising these variables follows a similar approach to the tutorial. The following is a complete example of downloading and visualising the “Maximum Temperature of the Warmest Month”.</p>
<pre class="r"><code># install.packages(c(&quot;raster&quot;, &quot;ggplot2&quot;, &quot;magrittr&quot;))
library(raster)
library(ggplot2)
library(magrittr)

# Downloading bioclimatic data
bio &lt;- getData(name = &quot;worldclim&quot;, var = &quot;bio&quot;, res = 10)

# Converting temperature values to Celcius
gain(bio)=0.1

# Extracting only the 5th bioclimatic variable and onverting the raster object into a dataframe
bio5_df &lt;- as.data.frame(bio$bio5, xy = TRUE, na.rm = TRUE)

bio5_df %&gt;%
  ggplot(aes(x=x,y=y)) +
  geom_raster(aes(fill = bio5))  +
  labs(title = &quot;Maximum temperature of the warmest month&quot;,
       subtitle = &quot;In the time period 1970-2000&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  scale_fill_gradientn(name = &quot;Temperature (°C)&quot;,
                       colours=c(&quot;#0094D1&quot;,&quot;#68C1E6&quot;, &quot;#FEED99&quot;,&quot;#AF3301&quot;),
                       breaks = c(-20, 0, 20, 40))</code></pre>
<p><img src="temperature_files/figure-html/warmest-month-maxtemp-example-1.png" width="672" /></p>
</div>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<ul>
<li><code>WorldClim</code> website: <a href="https://worldclim.org/data/index.html" class="uri">https://worldclim.org/data/index.html</a><br />
</li>
<li><code>raster</code> package documentation: <a href="https://www.rdocumentation.org/packages/raster/versions/3.4-5" class="uri">https://www.rdocumentation.org/packages/raster/versions/3.4-5</a></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
